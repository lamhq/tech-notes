# Cluster Architecture

## Overview

![](https://www.cncf.io/wp-content/uploads/2020/09/Kubernetes-architecture-diagram-1-1-900x614.png)

A Kubernetes cluster consists of:
- a control plane
- a set of worker machines, called nodes, that run containerized applications

A node may be a virtual or physical machine. It contains the services necessary to run Pods.

Every cluster needs at least one node.

Each Pod contains one or more containers.

In production environments, to provide fault-tolerance and high availability:
- the control plane usually runs across multiple computers
- a cluster usually runs multiple nodes


## Control Plane

The control plane manages nodes and the Pods in the cluster.

Responsibilities:
- **Maintaining Cluster State**: ensures that the cluster's state matches the desired state.
- **Managing Workloads**: decides which nodes will run the workloads and ensures they are running as expected.
- **Network Policies**: manages network policies to ensure secure and efficient communication between different components of the cluster.
- **Scaling and Resilience**: enables automatic scaling of applications based on demand and maintains the desired system state even in the face of failures.

Key components:
- **kube-apiserver**: the core component server that exposes the Kubernetes HTTP API.
- **etcd**: a consistent and highly-available key-value store that holds the configuration data of the cluster.
- **kube-scheduler**: determines which node a new or modified Pod should run on.
- **kube-controller-manager**: runs a set of controllers to ensure the desired state matches the current state.
- **cloud controller manager**: integrates with the underlying cloud provider.


## Node Components

Node components run on every node, maintaining running pods and providing the Kubernetes runtime environment.

They include:
- **kubelet**: ensures that Pods are running, communicate with the Kubernetes API server.
- **kube-proxy**: manage the network rules that allow communication to your Pods from network sessions inside or outside of your cluster.
- **Container Runtime**: software responsible for running containers (Docker, containerd, and CRI-O, ...)
